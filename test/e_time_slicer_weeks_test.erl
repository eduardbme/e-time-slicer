-module(e_time_slicer_weeks_test).
-compile(export_all).

-include_lib("eunit/include/eunit.hrl").

-define(test(T), {setup, fun start/0, fun stop/1, T}).

start() -> ok.
stop(_) -> ok.

test({input, Input, expected_result, ExpectedResult}) ->
  fun() ->
    {ok, Result} = erlang:apply(e_time_slicer, slice, Input),

    ?assertEqual(ExpectedResult, Result)
  end.

all_tests_test_() ->
  TestCases = [
    {
      %% %% Test with a leap year
      %% 1262304000 - 01 Jan 2010 00:00:00 GMT
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      input, [1262304000, 1577836800, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 521},
        {from, 1262304000},
        {to, 1577404800},
        {remainder, 432000},
        {slices, [
          [{from,1262304000},{to,1262908800}],
          [{from,1262908800},{to,1263513600}],
          [{from,1263513600},{to,1264118400}],
          [{from,1264118400},{to,1264723200}],
          [{from,1264723200},{to,1265328000}],
          [{from,1265328000},{to,1265932800}],
          [{from,1265932800},{to,1266537600}],
          [{from,1266537600},{to,1267142400}],
          [{from,1267142400},{to,1267747200}],
          [{from,1267747200},{to,1268352000}],
          [{from,1268352000},{to,1268956800}],
          [{from,1268956800},{to,1269561600}],
          [{from,1269561600},{to,1270166400}],
          [{from,1270166400},{to,1270771200}],
          [{from,1270771200},{to,1271376000}],
          [{from,1271376000},{to,1271980800}],
          [{from,1271980800},{to,1272585600}],
          [{from,1272585600},{to,1273190400}],
          [{from,1273190400},{to,1273795200}],
          [{from,1273795200},{to,1274400000}],
          [{from,1274400000},{to,1275004800}],
          [{from,1275004800},{to,1275609600}],
          [{from,1275609600},{to,1276214400}],
          [{from,1276214400},{to,1276819200}],
          [{from,1276819200},{to,1277424000}],
          [{from,1277424000},{to,1278028800}],
          [{from,1278028800},{to,1278633600}],
          [{from,1278633600},{to,1279238400}],
          [{from,1279238400},{to,1279843200}],
          [{from,1279843200},{to,1280448000}],
          [{from,1280448000},{to,1281052800}],
          [{from,1281052800},{to,1281657600}],
          [{from,1281657600},{to,1282262400}],
          [{from,1282262400},{to,1282867200}],
          [{from,1282867200},{to,1283472000}],
          [{from,1283472000},{to,1284076800}],
          [{from,1284076800},{to,1284681600}],
          [{from,1284681600},{to,1285286400}],
          [{from,1285286400},{to,1285891200}],
          [{from,1285891200},{to,1286496000}],
          [{from,1286496000},{to,1287100800}],
          [{from,1287100800},{to,1287705600}],
          [{from,1287705600},{to,1288310400}],
          [{from,1288310400},{to,1288915200}],
          [{from,1288915200},{to,1289520000}],
          [{from,1289520000},{to,1290124800}],
          [{from,1290124800},{to,1290729600}],
          [{from,1290729600},{to,1291334400}],
          [{from,1291334400},{to,1291939200}],
          [{from,1291939200},{to,1292544000}],
          [{from,1292544000},{to,1293148800}],
          [{from,1293148800},{to,1293753600}],
          [{from,1293753600},{to,1294358400}],
          [{from,1294358400},{to,1294963200}],
          [{from,1294963200},{to,1295568000}],
          [{from,1295568000},{to,1296172800}],
          [{from,1296172800},{to,1296777600}],
          [{from,1296777600},{to,1297382400}],
          [{from,1297382400},{to,1297987200}],
          [{from,1297987200},{to,1298592000}],
          [{from,1298592000},{to,1299196800}],
          [{from,1299196800},{to,1299801600}],
          [{from,1299801600},{to,1300406400}],
          [{from,1300406400},{to,1301011200}],
          [{from,1301011200},{to,1301616000}],
          [{from,1301616000},{to,1302220800}],
          [{from,1302220800},{to,1302825600}],
          [{from,1302825600},{to,1303430400}],
          [{from,1303430400},{to,1304035200}],
          [{from,1304035200},{to,1304640000}],
          [{from,1304640000},{to,1305244800}],
          [{from,1305244800},{to,1305849600}],
          [{from,1305849600},{to,1306454400}],
          [{from,1306454400},{to,1307059200}],
          [{from,1307059200},{to,1307664000}],
          [{from,1307664000},{to,1308268800}],
          [{from,1308268800},{to,1308873600}],
          [{from,1308873600},{to,1309478400}],
          [{from,1309478400},{to,1310083200}],
          [{from,1310083200},{to,1310688000}],
          [{from,1310688000},{to,1311292800}],
          [{from,1311292800},{to,1311897600}],
          [{from,1311897600},{to,1312502400}],
          [{from,1312502400},{to,1313107200}],
          [{from,1313107200},{to,1313712000}],
          [{from,1313712000},{to,1314316800}],
          [{from,1314316800},{to,1314921600}],
          [{from,1314921600},{to,1315526400}],
          [{from,1315526400},{to,1316131200}],
          [{from,1316131200},{to,1316736000}],
          [{from,1316736000},{to,1317340800}],
          [{from,1317340800},{to,1317945600}],
          [{from,1317945600},{to,1318550400}],
          [{from,1318550400},{to,1319155200}],
          [{from,1319155200},{to,1319760000}],
          [{from,1319760000},{to,1320364800}],
          [{from,1320364800},{to,1320969600}],
          [{from,1320969600},{to,1321574400}],
          [{from,1321574400},{to,1322179200}],
          [{from,1322179200},{to,1322784000}],
          [{from,1322784000},{to,1323388800}],
          [{from,1323388800},{to,1323993600}],
          [{from,1323993600},{to,1324598400}],
          [{from,1324598400},{to,1325203200}],
          [{from,1325203200},{to,1325808000}],
          [{from,1325808000},{to,1326412800}],
          [{from,1326412800},{to,1327017600}],
          [{from,1327017600},{to,1327622400}],
          [{from,1327622400},{to,1328227200}],
          [{from,1328227200},{to,1328832000}],
          [{from,1328832000},{to,1329436800}],
          [{from,1329436800},{to,1330041600}],
          [{from,1330041600},{to,1330646400}],
          [{from,1330646400},{to,1331251200}],
          [{from,1331251200},{to,1331856000}],
          [{from,1331856000},{to,1332460800}],
          [{from,1332460800},{to,1333065600}],
          [{from,1333065600},{to,1333670400}],
          [{from,1333670400},{to,1334275200}],
          [{from,1334275200},{to,1334880000}],
          [{from,1334880000},{to,1335484800}],
          [{from,1335484800},{to,1336089600}],
          [{from,1336089600},{to,1336694400}],
          [{from,1336694400},{to,1337299200}],
          [{from,1337299200},{to,1337904000}],
          [{from,1337904000},{to,1338508800}],
          [{from,1338508800},{to,1339113600}],
          [{from,1339113600},{to,1339718400}],
          [{from,1339718400},{to,1340323200}],
          [{from,1340323200},{to,1340928000}],
          [{from,1340928000},{to,1341532800}],
          [{from,1341532800},{to,1342137600}],
          [{from,1342137600},{to,1342742400}],
          [{from,1342742400},{to,1343347200}],
          [{from,1343347200},{to,1343952000}],
          [{from,1343952000},{to,1344556800}],
          [{from,1344556800},{to,1345161600}],
          [{from,1345161600},{to,1345766400}],
          [{from,1345766400},{to,1346371200}],
          [{from,1346371200},{to,1346976000}],
          [{from,1346976000},{to,1347580800}],
          [{from,1347580800},{to,1348185600}],
          [{from,1348185600},{to,1348790400}],
          [{from,1348790400},{to,1349395200}],
          [{from,1349395200},{to,1350000000}],
          [{from,1350000000},{to,1350604800}],
          [{from,1350604800},{to,1351209600}],
          [{from,1351209600},{to,1351814400}],
          [{from,1351814400},{to,1352419200}],
          [{from,1352419200},{to,1353024000}],
          [{from,1353024000},{to,1353628800}],
          [{from,1353628800},{to,1354233600}],
          [{from,1354233600},{to,1354838400}],
          [{from,1354838400},{to,1355443200}],
          [{from,1355443200},{to,1356048000}],
          [{from,1356048000},{to,1356652800}],
          [{from,1356652800},{to,1357257600}],
          [{from,1357257600},{to,1357862400}],
          [{from,1357862400},{to,1358467200}],
          [{from,1358467200},{to,1359072000}],
          [{from,1359072000},{to,1359676800}],
          [{from,1359676800},{to,1360281600}],
          [{from,1360281600},{to,1360886400}],
          [{from,1360886400},{to,1361491200}],
          [{from,1361491200},{to,1362096000}],
          [{from,1362096000},{to,1362700800}],
          [{from,1362700800},{to,1363305600}],
          [{from,1363305600},{to,1363910400}],
          [{from,1363910400},{to,1364515200}],
          [{from,1364515200},{to,1365120000}],
          [{from,1365120000},{to,1365724800}],
          [{from,1365724800},{to,1366329600}],
          [{from,1366329600},{to,1366934400}],
          [{from,1366934400},{to,1367539200}],
          [{from,1367539200},{to,1368144000}],
          [{from,1368144000},{to,1368748800}],
          [{from,1368748800},{to,1369353600}],
          [{from,1369353600},{to,1369958400}],
          [{from,1369958400},{to,1370563200}],
          [{from,1370563200},{to,1371168000}],
          [{from,1371168000},{to,1371772800}],
          [{from,1371772800},{to,1372377600}],
          [{from,1372377600},{to,1372982400}],
          [{from,1372982400},{to,1373587200}],
          [{from,1373587200},{to,1374192000}],
          [{from,1374192000},{to,1374796800}],
          [{from,1374796800},{to,1375401600}],
          [{from,1375401600},{to,1376006400}],
          [{from,1376006400},{to,1376611200}],
          [{from,1376611200},{to,1377216000}],
          [{from,1377216000},{to,1377820800}],
          [{from,1377820800},{to,1378425600}],
          [{from,1378425600},{to,1379030400}],
          [{from,1379030400},{to,1379635200}],
          [{from,1379635200},{to,1380240000}],
          [{from,1380240000},{to,1380844800}],
          [{from,1380844800},{to,1381449600}],
          [{from,1381449600},{to,1382054400}],
          [{from,1382054400},{to,1382659200}],
          [{from,1382659200},{to,1383264000}],
          [{from,1383264000},{to,1383868800}],
          [{from,1383868800},{to,1384473600}],
          [{from,1384473600},{to,1385078400}],
          [{from,1385078400},{to,1385683200}],
          [{from,1385683200},{to,1386288000}],
          [{from,1386288000},{to,1386892800}],
          [{from,1386892800},{to,1387497600}],
          [{from,1387497600},{to,1388102400}],
          [{from,1388102400},{to,1388707200}],
          [{from,1388707200},{to,1389312000}],
          [{from,1389312000},{to,1389916800}],
          [{from,1389916800},{to,1390521600}],
          [{from,1390521600},{to,1391126400}],
          [{from,1391126400},{to,1391731200}],
          [{from,1391731200},{to,1392336000}],
          [{from,1392336000},{to,1392940800}],
          [{from,1392940800},{to,1393545600}],
          [{from,1393545600},{to,1394150400}],
          [{from,1394150400},{to,1394755200}],
          [{from,1394755200},{to,1395360000}],
          [{from,1395360000},{to,1395964800}],
          [{from,1395964800},{to,1396569600}],
          [{from,1396569600},{to,1397174400}],
          [{from,1397174400},{to,1397779200}],
          [{from,1397779200},{to,1398384000}],
          [{from,1398384000},{to,1398988800}],
          [{from,1398988800},{to,1399593600}],
          [{from,1399593600},{to,1400198400}],
          [{from,1400198400},{to,1400803200}],
          [{from,1400803200},{to,1401408000}],
          [{from,1401408000},{to,1402012800}],
          [{from,1402012800},{to,1402617600}],
          [{from,1402617600},{to,1403222400}],
          [{from,1403222400},{to,1403827200}],
          [{from,1403827200},{to,1404432000}],
          [{from,1404432000},{to,1405036800}],
          [{from,1405036800},{to,1405641600}],
          [{from,1405641600},{to,1406246400}],
          [{from,1406246400},{to,1406851200}],
          [{from,1406851200},{to,1407456000}],
          [{from,1407456000},{to,1408060800}],
          [{from,1408060800},{to,1408665600}],
          [{from,1408665600},{to,1409270400}],
          [{from,1409270400},{to,1409875200}],
          [{from,1409875200},{to,1410480000}],
          [{from,1410480000},{to,1411084800}],
          [{from,1411084800},{to,1411689600}],
          [{from,1411689600},{to,1412294400}],
          [{from,1412294400},{to,1412899200}],
          [{from,1412899200},{to,1413504000}],
          [{from,1413504000},{to,1414108800}],
          [{from,1414108800},{to,1414713600}],
          [{from,1414713600},{to,1415318400}],
          [{from,1415318400},{to,1415923200}],
          [{from,1415923200},{to,1416528000}],
          [{from,1416528000},{to,1417132800}],
          [{from,1417132800},{to,1417737600}],
          [{from,1417737600},{to,1418342400}],
          [{from,1418342400},{to,1418947200}],
          [{from,1418947200},{to,1419552000}],
          [{from,1419552000},{to,1420156800}],
          [{from,1420156800},{to,1420761600}],
          [{from,1420761600},{to,1421366400}],
          [{from,1421366400},{to,1421971200}],
          [{from,1421971200},{to,1422576000}],
          [{from,1422576000},{to,1423180800}],
          [{from,1423180800},{to,1423785600}],
          [{from,1423785600},{to,1424390400}],
          [{from,1424390400},{to,1424995200}],
          [{from,1424995200},{to,1425600000}],
          [{from,1425600000},{to,1426204800}],
          [{from,1426204800},{to,1426809600}],
          [{from,1426809600},{to,1427414400}],
          [{from,1427414400},{to,1428019200}],
          [{from,1428019200},{to,1428624000}],
          [{from,1428624000},{to,1429228800}],
          [{from,1429228800},{to,1429833600}],
          [{from,1429833600},{to,1430438400}],
          [{from,1430438400},{to,1431043200}],
          [{from,1431043200},{to,1431648000}],
          [{from,1431648000},{to,1432252800}],
          [{from,1432252800},{to,1432857600}],
          [{from,1432857600},{to,1433462400}],
          [{from,1433462400},{to,1434067200}],
          [{from,1434067200},{to,1434672000}],
          [{from,1434672000},{to,1435276800}],
          [{from,1435276800},{to,1435881600}],
          [{from,1435881600},{to,1436486400}],
          [{from,1436486400},{to,1437091200}],
          [{from,1437091200},{to,1437696000}],
          [{from,1437696000},{to,1438300800}],
          [{from,1438300800},{to,1438905600}],
          [{from,1438905600},{to,1439510400}],
          [{from,1439510400},{to,1440115200}],
          [{from,1440115200},{to,1440720000}],
          [{from,1440720000},{to,1441324800}],
          [{from,1441324800},{to,1441929600}],
          [{from,1441929600},{to,1442534400}],
          [{from,1442534400},{to,1443139200}],
          [{from,1443139200},{to,1443744000}],
          [{from,1443744000},{to,1444348800}],
          [{from,1444348800},{to,1444953600}],
          [{from,1444953600},{to,1445558400}],
          [{from,1445558400},{to,1446163200}],
          [{from,1446163200},{to,1446768000}],
          [{from,1446768000},{to,1447372800}],
          [{from,1447372800},{to,1447977600}],
          [{from,1447977600},{to,1448582400}],
          [{from,1448582400},{to,1449187200}],
          [{from,1449187200},{to,1449792000}],
          [{from,1449792000},{to,1450396800}],
          [{from,1450396800},{to,1451001600}],
          [{from,1451001600},{to,1451606400}],
          [{from,1451606400},{to,1452211200}],
          [{from,1452211200},{to,1452816000}],
          [{from,1452816000},{to,1453420800}],
          [{from,1453420800},{to,1454025600}],
          [{from,1454025600},{to,1454630400}],
          [{from,1454630400},{to,1455235200}],
          [{from,1455235200},{to,1455840000}],
          [{from,1455840000},{to,1456444800}],
          [{from,1456444800},{to,1457049600}],
          [{from,1457049600},{to,1457654400}],
          [{from,1457654400},{to,1458259200}],
          [{from,1458259200},{to,1458864000}],
          [{from,1458864000},{to,1459468800}],
          [{from,1459468800},{to,1460073600}],
          [{from,1460073600},{to,1460678400}],
          [{from,1460678400},{to,1461283200}],
          [{from,1461283200},{to,1461888000}],
          [{from,1461888000},{to,1462492800}],
          [{from,1462492800},{to,1463097600}],
          [{from,1463097600},{to,1463702400}],
          [{from,1463702400},{to,1464307200}],
          [{from,1464307200},{to,1464912000}],
          [{from,1464912000},{to,1465516800}],
          [{from,1465516800},{to,1466121600}],
          [{from,1466121600},{to,1466726400}],
          [{from,1466726400},{to,1467331200}],
          [{from,1467331200},{to,1467936000}],
          [{from,1467936000},{to,1468540800}],
          [{from,1468540800},{to,1469145600}],
          [{from,1469145600},{to,1469750400}],
          [{from,1469750400},{to,1470355200}],
          [{from,1470355200},{to,1470960000}],
          [{from,1470960000},{to,1471564800}],
          [{from,1471564800},{to,1472169600}],
          [{from,1472169600},{to,1472774400}],
          [{from,1472774400},{to,1473379200}],
          [{from,1473379200},{to,1473984000}],
          [{from,1473984000},{to,1474588800}],
          [{from,1474588800},{to,1475193600}],
          [{from,1475193600},{to,1475798400}],
          [{from,1475798400},{to,1476403200}],
          [{from,1476403200},{to,1477008000}],
          [{from,1477008000},{to,1477612800}],
          [{from,1477612800},{to,1478217600}],
          [{from,1478217600},{to,1478822400}],
          [{from,1478822400},{to,1479427200}],
          [{from,1479427200},{to,1480032000}],
          [{from,1480032000},{to,1480636800}],
          [{from,1480636800},{to,1481241600}],
          [{from,1481241600},{to,1481846400}],
          [{from,1481846400},{to,1482451200}],
          [{from,1482451200},{to,1483056000}],
          [{from,1483056000},{to,1483660800}],
          [{from,1483660800},{to,1484265600}],
          [{from,1484265600},{to,1484870400}],
          [{from,1484870400},{to,1485475200}],
          [{from,1485475200},{to,1486080000}],
          [{from,1486080000},{to,1486684800}],
          [{from,1486684800},{to,1487289600}],
          [{from,1487289600},{to,1487894400}],
          [{from,1487894400},{to,1488499200}],
          [{from,1488499200},{to,1489104000}],
          [{from,1489104000},{to,1489708800}],
          [{from,1489708800},{to,1490313600}],
          [{from,1490313600},{to,1490918400}],
          [{from,1490918400},{to,1491523200}],
          [{from,1491523200},{to,1492128000}],
          [{from,1492128000},{to,1492732800}],
          [{from,1492732800},{to,1493337600}],
          [{from,1493337600},{to,1493942400}],
          [{from,1493942400},{to,1494547200}],
          [{from,1494547200},{to,1495152000}],
          [{from,1495152000},{to,1495756800}],
          [{from,1495756800},{to,1496361600}],
          [{from,1496361600},{to,1496966400}],
          [{from,1496966400},{to,1497571200}],
          [{from,1497571200},{to,1498176000}],
          [{from,1498176000},{to,1498780800}],
          [{from,1498780800},{to,1499385600}],
          [{from,1499385600},{to,1499990400}],
          [{from,1499990400},{to,1500595200}],
          [{from,1500595200},{to,1501200000}],
          [{from,1501200000},{to,1501804800}],
          [{from,1501804800},{to,1502409600}],
          [{from,1502409600},{to,1503014400}],
          [{from,1503014400},{to,1503619200}],
          [{from,1503619200},{to,1504224000}],
          [{from,1504224000},{to,1504828800}],
          [{from,1504828800},{to,1505433600}],
          [{from,1505433600},{to,1506038400}],
          [{from,1506038400},{to,1506643200}],
          [{from,1506643200},{to,1507248000}],
          [{from,1507248000},{to,1507852800}],
          [{from,1507852800},{to,1508457600}],
          [{from,1508457600},{to,1509062400}],
          [{from,1509062400},{to,1509667200}],
          [{from,1509667200},{to,1510272000}],
          [{from,1510272000},{to,1510876800}],
          [{from,1510876800},{to,1511481600}],
          [{from,1511481600},{to,1512086400}],
          [{from,1512086400},{to,1512691200}],
          [{from,1512691200},{to,1513296000}],
          [{from,1513296000},{to,1513900800}],
          [{from,1513900800},{to,1514505600}],
          [{from,1514505600},{to,1515110400}],
          [{from,1515110400},{to,1515715200}],
          [{from,1515715200},{to,1516320000}],
          [{from,1516320000},{to,1516924800}],
          [{from,1516924800},{to,1517529600}],
          [{from,1517529600},{to,1518134400}],
          [{from,1518134400},{to,1518739200}],
          [{from,1518739200},{to,1519344000}],
          [{from,1519344000},{to,1519948800}],
          [{from,1519948800},{to,1520553600}],
          [{from,1520553600},{to,1521158400}],
          [{from,1521158400},{to,1521763200}],
          [{from,1521763200},{to,1522368000}],
          [{from,1522368000},{to,1522972800}],
          [{from,1522972800},{to,1523577600}],
          [{from,1523577600},{to,1524182400}],
          [{from,1524182400},{to,1524787200}],
          [{from,1524787200},{to,1525392000}],
          [{from,1525392000},{to,1525996800}],
          [{from,1525996800},{to,1526601600}],
          [{from,1526601600},{to,1527206400}],
          [{from,1527206400},{to,1527811200}],
          [{from,1527811200},{to,1528416000}],
          [{from,1528416000},{to,1529020800}],
          [{from,1529020800},{to,1529625600}],
          [{from,1529625600},{to,1530230400}],
          [{from,1530230400},{to,1530835200}],
          [{from,1530835200},{to,1531440000}],
          [{from,1531440000},{to,1532044800}],
          [{from,1532044800},{to,1532649600}],
          [{from,1532649600},{to,1533254400}],
          [{from,1533254400},{to,1533859200}],
          [{from,1533859200},{to,1534464000}],
          [{from,1534464000},{to,1535068800}],
          [{from,1535068800},{to,1535673600}],
          [{from,1535673600},{to,1536278400}],
          [{from,1536278400},{to,1536883200}],
          [{from,1536883200},{to,1537488000}],
          [{from,1537488000},{to,1538092800}],
          [{from,1538092800},{to,1538697600}],
          [{from,1538697600},{to,1539302400}],
          [{from,1539302400},{to,1539907200}],
          [{from,1539907200},{to,1540512000}],
          [{from,1540512000},{to,1541116800}],
          [{from,1541116800},{to,1541721600}],
          [{from,1541721600},{to,1542326400}],
          [{from,1542326400},{to,1542931200}],
          [{from,1542931200},{to,1543536000}],
          [{from,1543536000},{to,1544140800}],
          [{from,1544140800},{to,1544745600}],
          [{from,1544745600},{to,1545350400}],
          [{from,1545350400},{to,1545955200}],
          [{from,1545955200},{to,1546560000}],
          [{from,1546560000},{to,1547164800}],
          [{from,1547164800},{to,1547769600}],
          [{from,1547769600},{to,1548374400}],
          [{from,1548374400},{to,1548979200}],
          [{from,1548979200},{to,1549584000}],
          [{from,1549584000},{to,1550188800}],
          [{from,1550188800},{to,1550793600}],
          [{from,1550793600},{to,1551398400}],
          [{from,1551398400},{to,1552003200}],
          [{from,1552003200},{to,1552608000}],
          [{from,1552608000},{to,1553212800}],
          [{from,1553212800},{to,1553817600}],
          [{from,1553817600},{to,1554422400}],
          [{from,1554422400},{to,1555027200}],
          [{from,1555027200},{to,1555632000}],
          [{from,1555632000},{to,1556236800}],
          [{from,1556236800},{to,1556841600}],
          [{from,1556841600},{to,1557446400}],
          [{from,1557446400},{to,1558051200}],
          [{from,1558051200},{to,1558656000}],
          [{from,1558656000},{to,1559260800}],
          [{from,1559260800},{to,1559865600}],
          [{from,1559865600},{to,1560470400}],
          [{from,1560470400},{to,1561075200}],
          [{from,1561075200},{to,1561680000}],
          [{from,1561680000},{to,1562284800}],
          [{from,1562284800},{to,1562889600}],
          [{from,1562889600},{to,1563494400}],
          [{from,1563494400},{to,1564099200}],
          [{from,1564099200},{to,1564704000}],
          [{from,1564704000},{to,1565308800}],
          [{from,1565308800},{to,1565913600}],
          [{from,1565913600},{to,1566518400}],
          [{from,1566518400},{to,1567123200}],
          [{from,1567123200},{to,1567728000}],
          [{from,1567728000},{to,1568332800}],
          [{from,1568332800},{to,1568937600}],
          [{from,1568937600},{to,1569542400}],
          [{from,1569542400},{to,1570147200}],
          [{from,1570147200},{to,1570752000}],
          [{from,1570752000},{to,1571356800}],
          [{from,1571356800},{to,1571961600}],
          [{from,1571961600},{to,1572566400}],
          [{from,1572566400},{to,1573171200}],
          [{from,1573171200},{to,1573776000}],
          [{from,1573776000},{to,1574380800}],
          [{from,1574380800},{to,1574985600}],
          [{from,1574985600},{to,1575590400}],
          [{from,1575590400},{to,1576195200}],
          [{from,1576195200},{to,1576800000}],
          [{from,1576800000},{to,1577404800}]
        ]}
      ]
    },
    {
      %% %% Test with a leap year
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      %% 1609891200 - 06 Jan 2021 00:00:00 GMT
      input, [1577836800, 1609891200, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 53},
        {from, 1577836800},
        {to, 1609891200},
        {remainder, 0},
        {slices, [
          [{from,1577836800},{to,1578441600}],
          [{from,1578441600},{to,1579046400}],
          [{from,1579046400},{to,1579651200}],
          [{from,1579651200},{to,1580256000}],
          [{from,1580256000},{to,1580860800}],
          [{from,1580860800},{to,1581465600}],
          [{from,1581465600},{to,1582070400}],
          [{from,1582070400},{to,1582675200}],
          [{from,1582675200},{to,1583280000}],
          [{from,1583280000},{to,1583884800}],
          [{from,1583884800},{to,1584489600}],
          [{from,1584489600},{to,1585094400}],
          [{from,1585094400},{to,1585699200}],
          [{from,1585699200},{to,1586304000}],
          [{from,1586304000},{to,1586908800}],
          [{from,1586908800},{to,1587513600}],
          [{from,1587513600},{to,1588118400}],
          [{from,1588118400},{to,1588723200}],
          [{from,1588723200},{to,1589328000}],
          [{from,1589328000},{to,1589932800}],
          [{from,1589932800},{to,1590537600}],
          [{from,1590537600},{to,1591142400}],
          [{from,1591142400},{to,1591747200}],
          [{from,1591747200},{to,1592352000}],
          [{from,1592352000},{to,1592956800}],
          [{from,1592956800},{to,1593561600}],
          [{from,1593561600},{to,1594166400}],
          [{from,1594166400},{to,1594771200}],
          [{from,1594771200},{to,1595376000}],
          [{from,1595376000},{to,1595980800}],
          [{from,1595980800},{to,1596585600}],
          [{from,1596585600},{to,1597190400}],
          [{from,1597190400},{to,1597795200}],
          [{from,1597795200},{to,1598400000}],
          [{from,1598400000},{to,1599004800}],
          [{from,1599004800},{to,1599609600}],
          [{from,1599609600},{to,1600214400}],
          [{from,1600214400},{to,1600819200}],
          [{from,1600819200},{to,1601424000}],
          [{from,1601424000},{to,1602028800}],
          [{from,1602028800},{to,1602633600}],
          [{from,1602633600},{to,1603238400}],
          [{from,1603238400},{to,1603843200}],
          [{from,1603843200},{to,1604448000}],
          [{from,1604448000},{to,1605052800}],
          [{from,1605052800},{to,1605657600}],
          [{from,1605657600},{to,1606262400}],
          [{from,1606262400},{to,1606867200}],
          [{from,1606867200},{to,1607472000}],
          [{from,1607472000},{to,1608076800}],
          [{from,1608076800},{to,1608681600}],
          [{from,1608681600},{to,1609286400}],
          [{from,1609286400},{to,1609891200}]
        ]}
      ]
    },
    {
      %% 1546300800 - 01 Jan 2019 00:00:00 GMT
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      input, [1546300800, 1577836800, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 52},
        {from, 1546300800},
        {to, 1577836800 - 86400},
        {remainder, 86400},
        {slices,[[{from,1546300800},{to,1546905600}],
          [{from,1546905600},{to,1547510400}],
          [{from,1547510400},{to,1548115200}],
          [{from,1548115200},{to,1548720000}],
          [{from,1548720000},{to,1549324800}],
          [{from,1549324800},{to,1549929600}],
          [{from,1549929600},{to,1550534400}],
          [{from,1550534400},{to,1551139200}],
          [{from,1551139200},{to,1551744000}],
          [{from,1551744000},{to,1552348800}],
          [{from,1552348800},{to,1552953600}],
          [{from,1552953600},{to,1553558400}],
          [{from,1553558400},{to,1554163200}],
          [{from,1554163200},{to,1554768000}],
          [{from,1554768000},{to,1555372800}],
          [{from,1555372800},{to,1555977600}],
          [{from,1555977600},{to,1556582400}],
          [{from,1556582400},{to,1557187200}],
          [{from,1557187200},{to,1557792000}],
          [{from,1557792000},{to,1558396800}],
          [{from,1558396800},{to,1559001600}],
          [{from,1559001600},{to,1559606400}],
          [{from,1559606400},{to,1560211200}],
          [{from,1560211200},{to,1560816000}],
          [{from,1560816000},{to,1561420800}],
          [{from,1561420800},{to,1562025600}],
          [{from,1562025600},{to,1562630400}],
          [{from,1562630400},{to,1563235200}],
          [{from,1563235200},{to,1563840000}],
          [{from,1563840000},{to,1564444800}],
          [{from,1564444800},{to,1565049600}],
          [{from,1565049600},{to,1565654400}],
          [{from,1565654400},{to,1566259200}],
          [{from,1566259200},{to,1566864000}],
          [{from,1566864000},{to,1567468800}],
          [{from,1567468800},{to,1568073600}],
          [{from,1568073600},{to,1568678400}],
          [{from,1568678400},{to,1569283200}],
          [{from,1569283200},{to,1569888000}],
          [{from,1569888000},{to,1570492800}],
          [{from,1570492800},{to,1571097600}],
          [{from,1571097600},{to,1571702400}],
          [{from,1571702400},{to,1572307200}],
          [{from,1572307200},{to,1572912000}],
          [{from,1572912000},{to,1573516800}],
          [{from,1573516800},{to,1574121600}],
          [{from, 1574121600},{to, 1574726400}],
          [{from, 1574726400},{to, 1575331200}],
          [{from, 1575331200},{to, 1575936000}],
          [{from, 1575936000},{to, 1576540800}],
          [{from ,1576540800},{to, 1577145600}],
          [{from, 1577145600},{to, 1577750400}]
        ]}
      ]
    },
    {
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      %% 1578268800 - 06 Jan 2020 00:00:00 GMT
      input, [1577836800, 1578268800, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 0},
        {from, 1577836800},
        {to, undefined},
        {remainder, 432000},
        {slices, []}
      ]
    },
    {
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      %% 1578441600 - 08 Jan 2020 00:00:00 GMT
      input, [1577836800, 1578441600, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 1},
        {from, 1577836800},
        {to, 1578441600},
        {remainder, 0},
        {slices, [
          [{from, 1577836800}, {to, 1578441600}]
        ]}
      ]
    },
    {
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      %% 1578528000 - 09 Jan 2020 00:00:00 GMT
      input, [1577836800, 1578528000, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 1},
        {from, 1577836800},
        {to, 1578441600},
        {remainder, 1578528000 - 1578441600},
        {slices, [
          [{from, 1577836800}, {to, 1578441600}]
        ]}
      ]
    },
    {
      %% 1546293600 - 01 Jan 2019 00:00:00 GMT
      %% 1579046400 - 15 Jan 2019 00:00:00 GMT
      input, [1577836800, 1579046400, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 2},
        {from, 1577836800},
        {to, 1579046400},
        {remainder, 0},
        {slices, [
          [{from, 1577836800}, {to, 1577836800 + 604800}],
          [{from, 1577836800 + 604800}, {to, 1579046400}]
        ]}
      ]
    },
    {
      %% 1577836800 - 01 Jan 2020 00:00:00 GMT
      %% 1579132800 - 16 Jan 2020 00:00:00 GMT
      input, [1577836800, 1579132800, [{scale, weeks}]],
      expected_result, [
        {type, weeks},
        {count, 2},
        {from, 1577836800},
        {to, 1579046400},
        {remainder, 86400},
        {slices, [
          [{from, 1577836800}, {to, 1577836800 + 604800}],
          [{from, 1577836800 + 604800}, {to, 1579046400}]
        ]}
      ]
    }
  ],

  [
    ?test(fun(_) -> {timeout, 1000, test(TestCase)} end) ||
    TestCase <- TestCases
  ].
